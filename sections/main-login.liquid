
 {{ 'customer.css' | asset_url | stylesheet_tag }}
 
 {%- style -%}
   .section-{{ section.id }}-padding {
     padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
     padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
   }
 
   @media screen and (min-width: 750px) {
     .section-{{ section.id }}-padding {
       padding-top: {{ section.settings.padding_top }}px;
       padding-bottom: {{ section.settings.padding_bottom }}px;
     }
   }
 
     /* new design styles: */
.customer-login-unique * {
   list-style: none;
   font-family: 'Montserrat', sans-serif;
   
 }
   
 .customer-login-unique {
   display: flex;
   justify-content: center;
   align-items: center;
   flex-direction: column;
 }
 
 * {
 	box-sizing: border-box;
 }
 .customer-login-unique h1 {
 	font-weight: bold;
 	margin: 0;
 }
 .customer-login-unique h2 {
 	text-align: center;
 }
 .customer-login-unique p {
     color: #000000;
 	font-size: 16px;
 	font-weight: 400;
 	line-height: 20px;
 	letter-spacing: 0.5px;
 	margin: 10px 0 10px;
 }
 .customer-login-unique span {
 	font-size: 14px;
 }
 .customer-login-unique a {
 	color: #333;
 	font-size: 13px;
    font-weight: 400;
 	text-decoration: none;
 	margin: 15px 0;
 }
 .customer-login-unique button {
 	border-radius: 20px;
 	border: 2px solid #edd76f;
 	background-color: #edd76f;
 	color: #FFFFFF;
 	font-size: 12px;
 	font-weight: bold;
 	padding: 12px 45px;
 	letter-spacing: 1px;
 	text-transform: uppercase;
 	transition: transform 80ms ease-in;
 }
 .customer-login-unique button:active {
 	transform: scale(0.95);
 }
 .customer-login-unique button:focus {
 	outline: none;
 }
 .customer-login-unique button.ghost {
 	background-color: transparent;
 	border-color: #FFFFFF;
 }
 .customer-login-unique form {
 	background-color: #FFFFFF;
 	display: flex;
 	align-items: center;
 	justify-content: center;
 	flex-direction: column;
 	padding: 0 50px;
 	height: 100%;
 	text-align: center;
 }
 .customer-login-unique input {
 	background-color: #eee;
 	border: none;
 	padding: 12px 15px;
 	margin: 8px 0;
 	width: 100%;
 }
.customer-login-unique .container {
    z-index: 1;
 	background-color: #fff;
 	border-radius: 10px;
   	box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);
 	position: relative;
 	overflow: hidden;
 	width: 768px;
 	max-width: 100%;
 	min-height: 480px;
 }
 .customer-login-unique .form-container {
 	position: absolute;
 	top: 0;
 	height: 100%;
 	transition: all 0.6s ease-in-out;
 }
 .customer-login-unique .sign-in-container {
 	left: 0;
 	width: 50%;
 	z-index: 2;
 }
 .customer-login-unique .container.right-panel-active .sign-in-container {
 	transform: translateX(100%);
 }
 .customer-login-unique .sign-up-container {
 	left: 0;
 	width: 50%;
 	opacity: 0;
 	z-index: 1;
 }
 .customer-login-unique .container.right-panel-active .sign-up-container {
 	transform: translateX(100%);
 	opacity: 1;
 	z-index: 5;
 	animation: show 0.6s;
 }
 @keyframes show {
   0%, 49.99% {
 		opacity: 0;
 		z-index: 1;
 	}
 	
   50%, 100% {
 		opacity: 1;
 		z-index: 5;
 	}
 }
 .customer-login-unique .overlay-container {
 	position: absolute;
 	top: 0;
 	left: 50%;
 	width: 50%;
 	height: 100%;
 	overflow: hidden;
 	transition: transform 0.6s ease-in-out;
 	/* z-index: 100; */
 }
 
 .container.right-panel-active .overlay-container{
 	transform: translateX(-100%);
 }
 .customer-login-unique .overlay {
 	background: hsla(40, 94%, 74%, 1);
    background: linear-gradient(90deg, hsla(40, 94%, 74%, 1) 0%, hsla(60, 89%, 72%, 1) 100%);
    background: -moz-linear-gradient(90deg, hsla(40, 94%, 74%, 1) 0%, hsla(60, 89%, 72%, 1) 100%);
    background: -webkit-linear-gradient(90deg, hsla(40, 94%, 74%, 1) 0%, hsla(60, 89%, 72%, 1) 100%);
    filter: progid: DXImageTransform.Microsoft.gradient( startColorstr="#FBD07C", endColorstr="#F7F779", GradientType=1 );
 	background-repeat: no-repeat;
 	background-size: cover;
 	background-position: 0 0;
 	color: #FFFFFF;
 	position: relative;
 	left: -100%;
 	height: 100%;
 	width: 200%;
   	transform: translateX(0);
 	transition: transform 0.6s ease-in-out;
 }
 .customer-login-unique .container.right-panel-active .overlay {
   	transform: translateX(50%);
 }
 .customer-login-unique .overlay-panel {
 	position: absolute;
 	display: flex;
 	align-items: center;
 	justify-content: center;
 	flex-direction: column;
 	padding: 0 40px;
 	text-align: center;
 	top: 0;
 	height: 100%;
 	width: 50%;
 	transform: translateX(0);
 	transition: transform 0.6s ease-in-out;
 }
 .customer-login-unique .overlay-left {
 	transform: translateX(-20%);
 }
 .customer-login-unique .container.right-panel-active .overlay-left {
 	transform: translateX(0);
 }
 .customer-login-unique .overlay-right {
 	right: 0;
 	transform: translateX(0);
 }
 .customer-login-unique .container.right-panel-active .overlay-right {
 	transform: translateX(20%);
 }
 
 .customer-login-unique footer {
     background-color: #222;
     color: #fff;
     font-size: 14px;
     bottom: 0;
     position: fixed;
     left: 0;
     right: 0;
     text-align: center;
     z-index: 999;
 }
 .customer-login-unique footer p {
     margin: 10px 0;
 }
 .customer-login-unique footer i {
     color: red;
 }
 .customer-login-unique footer a {
     color: #3c97bf;
     text-decoration: none;
 }
 
   @media screen and (max-width: 750px) {
     .customer-login-unique .container {
       width: 90vw;
     }
     
     .customer-login-unique .container.right-panel-active .sign-up-container {
     	transform: translateX(0%);
     	opacity: 1;
     	z-index: 5;
     	animation: show 0.6s;
         width: 100%;
     }
 
     .customer-login-unique .container.right-panel-active .sign-in-container {
     	transform: translateX(100%);
     	opacity: 1;
     	z-index: 5;
     	animation: show 0.6s;
         width: 100%;
     }
 
     .customer-login-unique .container .overlay-container {
     	display: none;
     }
 
     .customer-login-unique .container .sign-up-container {
     	transform: translateX(0%);
     	opacity: 1;
     	z-index: 5;
     	animation: show 0.6s;
         width: 100%;
     }
 
     .customer-login-unique .container .sign-in-container {
     	transform: revert-layer;
     	opacity: 1;
         width: 100%;
     	z-index: 5;
     	animation: show 0.6s;
     }
 
     .mobile-swap-button {
       text-decoration: underline;
       cursor: pointer;
       color: #edd76f;
     }
 
     .customer-login-unique .mobile-swap {
       display: block;
     }
   }  
   .mobile-swap {
       display: none;
     }
 
   .padding-bottom {
     padding-bottom: 10px;
   }
   .loading-spinner {
  border: 2px solid #f3f3f3;
  border-top: 2px solid #333;
  border-radius: 50%;
  width: 14px;
  height: 14px;
  animation: spin 0.8s linear infinite;
  display: inline-block;
  vertical-align: middle;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.form-error,
.field-error {
  color: red;
  font-size: 13px;
  margin-top: 5px;
}

   
 {%- endstyle -%}
 
<div class="customer-login-unique section-{{ section.id }}-padding">
  <div class="container" id="container">
   <!-- Sign Up Form -->
<div class="form-container sign-up-container">
  {%- form 'create_customer' -%}

    {%- assign email_error = '' -%}
    {%- assign password_error = '' -%}
    {%- assign form_error = '' -%}

    {%- if form.errors -%}
      {%- for field in form.errors -%}
        {%- if field == 'form' -%}
          {%- assign form_error = form.errors.messages[field] -%}
        {%- elsif field == 'email' -%}
          {%- assign email_error = form.errors.messages[field] -%}
        {%- elsif field == 'password' -%}
          {%- assign password_error = form.errors.messages[field] -%}
        {%- endif -%}
      {%- endfor -%}
    {%- endif -%}

    <h2 class="padding-bottom">Cr√©er un compte</h2>

    {%- if form_error != blank -%}
      <div class="form-error">{{ form_error }}</div>
    {%- endif -%}

    <input name="customer[first_name]" id="RegisterForm-FirstName" type="text" placeholder="{{ 'customer.register.first_name' | t }}" required />

    <input name="customer[last_name]" id="RegisterForm-LastName" type="text" placeholder="{{ 'customer.register.last_name' | t }}" required />

    <input name="customer[email]" id="Email" type="email" placeholder="Email" required />
    {%- if email_error != blank -%}
      <div class="field-error">{{ email_error }}</div>
    {%- endif -%}

    <input name="customer[password]" id="CreatePassword" type="password" placeholder="Password" required />
    {%- if password_error != blank -%}
      <div class="field-error">{{ password_error }}</div>
    {%- endif -%}

    <button type="submit">{{ 'customer.register.submit' | t }}</button>

    <div>
      <p class="mobile-swap">ou connectez-vous <span class="mobile-swap-button" id="mobile-swap">ici</span></p>
    </div>
  {%- endform -%}
</div>


<!-- Sign In Form -->
<div class="form-container sign-in-container">
  {%- form 'customer_login', novalidate: 'novalidate' -%}
    <h2 class="padding-bottom">Se Connecter</h2>

    {%- assign email_error = '' -%}
    {%- assign password_error = '' -%}
    {%- assign form_error = '' -%}

    {%- if form.errors -%}
      {%- for field in form.errors -%}
        {%- if field == 'form' -%}
          {%- assign form_error = form.errors.messages[field] -%}
        {%- elsif field == 'email' -%}
          {%- assign email_error = form.errors.messages[field] -%}
        {%- elsif field == 'password' -%}
          {%- assign password_error = form.errors.messages[field] -%}
        {%- endif -%}
      {%- endfor -%}
    {%- endif -%}

    {%- if form_error != blank -%}
      <div class="form-error">{{ form_error }}</div>
    {%- endif -%}

    <input name="customer[email]" id="CustomerEmail" type="email" placeholder="Email" required />
    {%- if email_error != blank -%}
      <div class="field-error">{{ email_error }}</div>
    {%- endif -%}

    <input name="customer[password]" id="CustomerPassword" type="password" placeholder="Password" required />
    {%- if password_error != blank -%}
      <div class="field-error">{{ password_error }}</div>
    {%- endif -%}

    <a href="/account/recover">Vous avez oubli√© votre mot de passe ?</a>
    <button type="submit" id="login-submit-button">
      <span class="button-text">Se Connecter</span>
      <span class="loading-spinner" style="display: none; margin-left: 10px;"></span>
    </button>

    <div>
      <p class="mobile-swap">ou inscrivez-vous <span class="mobile-swap-button" id="mobile-swap-2">ici</span></p>
    </div>
  {%- endform -%}
</div>


    <!-- Overlay -->
    <div class="overlay-container">
      <div class="overlay">
        <div class="overlay-panel overlay-left">
          <img 
            src="https://cdn.shopify.com/s/files/1/0763/8365/0028/files/ChatGPT_Image_30_avr._2025_13_34_47_22735fea-d10d-4671-ab7e-fab46563528f.png?v=1746013860" 
            alt="Welcome Image" 
            width="300" 
            height="300"
            style="max-width: 100%; height: auto;" 
          />
          <p>Connectez-vous pour suivre vos commandes et profiter d‚Äôoffres sur nos gadgets maison, jardin et cuisine.</p>
          <button class="ghost" id="signIn">Se Connecter</button>
        </div>
        <div class="overlay-panel overlay-right">
          <img 
            src="https://cdn.shopify.com/s/files/1/0763/8365/0028/files/ChatGPT_Image_30_avr._2025_13_34_47_22735fea-d10d-4671-ab7e-fab46563528f.png?v=1746013860" 
            alt="Welcome Image" 
            width="300" 
            height="300"
            style="max-width: 100%; height: auto;" 
          />
          <p>Cr√©ez votre compte pour recevoir nos nouveaut√©s et offres exclusives.</p>
          <button class="ghost" id="signUp"> S'Inscrire</button>
        </div>
      </div>
    </div>
  </div>
</div>
 
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const signUpButton = document.getElementById('signUp');
    const signInButton = document.getElementById('signIn');
    const mobileSwap = document.getElementById('mobile-swap');
    const mobileSwap2 = document.getElementById('mobile-swap-2');
    const container = document.getElementById('container');

    signUpButton.addEventListener('click', () => {
      container.classList.add("right-panel-active");
    });

    signInButton.addEventListener('click', () => {
      container.classList.remove("right-panel-active");
    });

    mobileSwap.addEventListener('click', () => {
      container.classList.remove("right-panel-active");
    });

    mobileSwap2.addEventListener('click', () => {
      container.classList.add("right-panel-active");
    });

    // üîÑ Add loading spinner on login submit
    const loginForm = document.querySelector('.sign-in-container form');
    const loginButton = document.getElementById('login-submit-button');

    if (loginForm && loginButton) {
      loginForm.addEventListener('submit', function () {
        const text = loginButton.querySelector('.button-text');
        const spinner = loginButton.querySelector('.loading-spinner');
        text.style.display = 'none';
        spinner.style.display = 'inline-block';
        loginButton.disabled = true;
      });
    }
  });
</script>

 
 {% schema %}
 {
   "name": "t:sections.main-login.name",
   "settings": [
     {
       "type": "header",
       "content": "t:sections.all.padding.section_padding_heading"
     },
     {
       "type": "range",
       "id": "padding_top",
       "min": 0,
       "max": 100,
       "step": 4,
       "unit": "px",
       "label": "t:sections.all.padding.padding_top",
       "default": 36
     },
     {
       "type": "range",
       "id": "padding_bottom",
       "min": 0,
       "max": 100,
       "step": 4,
       "unit": "px",
       "label": "t:sections.all.padding.padding_bottom",
       "default": 36
     }
   ]
 }
 {% endschema %}